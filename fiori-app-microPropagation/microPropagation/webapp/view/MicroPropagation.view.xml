<mvc:View controllerName="com.9b.MicroPropagation.controller.MicroPropagation" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.f"
	xmlns:core="sap.ui.core" xmlns:layout="sap.ui.layout" xmlns:microchart="sap.suite.ui.microchart" xmlns:table="sap.ui.table"
	xmlns:barcode="com.9b.MicroPropagation.control" xmlns:grid="sap.ui.layout.cssgrid" xmlns:viz.data="sap.viz.ui5.data"
	xmlns:viz="sap.viz.ui5.controls" xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds" xmlns:commons="sap.suite.ui.commons">
	<f:DynamicPage id="dynamicPageId" showFooter="true" class="dyPage custFDynamicPageTitle" xmlns:l="sap.ui.layout">
		<f:title>
			<f:DynamicPageTitle>
				<f:content>
					<FlexBox direction="Row" justifyContent="SpaceAround" alignItems="Center">
						<Text text="{i18n>Navigateto} " width="5rem"></Text>
						<Select id="navigate" width="14rem" change="onChanageNavigate" forceSelection="false">
							<core:Item key="Strain" text="{i18n>Strain}"/>
							<core:Item key="PhenoTrack" text="Pheno Track"/>
							<!--<core:Item key="MicroPropagation" text="Micro Propagation"/>-->
							<core:Item key="MacroPropagation" text="Macro Propagation"/>
							<core:Item key="MotherPlanner" text="{i18n>MotherPlanner}"/>
							<core:Item key="Cultivation" text="Cultivation"/>
							<core:Item key="DestroyedPlants" text="{i18n>DestroyedPlants}"/>
							<core:Item key="Waste" text="{i18n>RecordWaste}"/>
						</Select>
					</FlexBox>
				</f:content>
				<f:actions>
					<Text text="{i18n>License}"></Text>
					<Select busy="{jsonModel>/licBusy}" id="license" width="18rem" change="onChanageLicenseType" items="{jsonModel>/licenseList}"
						selectedKey="{jsonModel>/selectedLicense}">
						<core:Item key="{jsonModel>Code}" text="{jsonModel>Name} - {jsonModel>Code}"/>
					</Select>
					<Button icon="sap-icon://refresh" press="onPlantsRefresh" type="Default"/>
				</f:actions>
				<f:navigationActions>
					<Button text="{jsonModel>/refreshText}" type="Transparent" enabled="false" class="lastUpdate" width="13rem"/>
				</f:navigationActions>
			</f:DynamicPageTitle>
		</f:title>
		<f:content>
			<IconTabBar expanded="true" select="onTabChange" id="phenoTab" expandable="false" selectedKey="{jsonModel>/sIconTab}"
				stretchContentHeight="true">
				<items>
					<IconTabFilter text="Reception" key="RECEPTION"/>
					<IconTabFilter text="Preservation" key="PRESERVATION"/>
					<IconTabFilter text="Multiplication" key="MULTIPLICATION"/>
				</items>
				<content>
					<VBox height="100%">
						<VBox height="100%" class="fullHeight" width="100%">
							<table:Table class="uiTableTable" id="microPropagationTable" selectionMode="MultiToggle"
								rows="{path:'jsonModel>/microPropagationTableData'}" visibleRowCountMode="Auto" rowSelectionChange="handleRowSelection"
								filter="customFilter" cellClick="cellClick">
								<table:extension>
									<OverflowToolbar visible="{= ${jsonModel>/sIconTab} === 'RECEPTION'}">
										<Text class="tableTitle" id="tableHeader1" text="Plants"/>
										<ToolbarSpacer/>
										<MultiInput width="25rem" placeholder="Search" tokenUpdate="tokenUpdateMultiInput" submit="onSubmitMultiInput" showValueHelp="false"
											liveChange="onChangeMultiInput" id="searchFieldTable" enableMultiLineMode="true"/>
										<Button text="{i18n>ClearAllFilters}" press="clearAllFilters"/>
										<Text class="sapMTBSeparator"/>
										<Button text="Move Cuttings" press="moveCuttings" type="Default"/>
										<Button text="Mark As Clones" press="markAsClones" type="Default"/>
										<Button text="{i18n>DestroyPlants}" press="performDestroyPlants" type="Reject"></Button>
										<Button text="Record Residue" press="performRecordResidue" type="Default"></Button>
									</OverflowToolbar>
									<OverflowToolbar visible="{= ${jsonModel>/sIconTab} === 'PRESERVATION'}">
										<Text class="tableTitle" id="tableHeader2" text="Plants"/>
										<ToolbarSpacer/>
										<MultiInput width="25rem" placeholder="Search" tokenUpdate="tokenUpdateMultiInput" submit="onSubmitMultiInput" showValueHelp="false"
											liveChange="onChangeMultiInput" id="searchFieldTable5" enableMultiLineMode="true"/>
										<Button text="{i18n>ClearAllFilters}" press="clearAllFilters"/>
										<Text class="sapMTBSeparator"/>
										<Button text="Send For Multiplication" press="sendToMultiplication" type="Default"/>
										<Button text="Destroy Plants" press="performDestroyPlants" type="Reject"/>
										<Button text="Record Residue" press="performRecordResidue" type="Default"></Button>
									</OverflowToolbar>
									<OverflowToolbar visible="{= ${jsonModel>/sIconTab} === 'MULTIPLICATION'}">
										<Text class="tableTitle" id="tableHeader3" text="Plants"/>
										<ToolbarSpacer/>
										<MultiInput width="25rem" placeholder="Search" tokenUpdate="tokenUpdateMultiInput" submit="onSubmitMultiInput" showValueHelp="false"
											liveChange="onChangeMultiInput" id="searchFieldTable1" enableMultiLineMode="true"/>
										<Button text="{i18n>ClearAllFilters}" press="clearAllFilters"/>
										<Text class="sapMTBSeparator"/>
										<Button text="Send For Preservation" press="sendToPreservation" type="Default"/>
										<Button text="Create Stem VM" press="createStemVM" type="Default" enabled="{jsonModel>/isSingleSelect}"/>
										<Button text="Record Callus" press="onRecordCallus" type="Default"/>
										<Button text="Record Diff Callus" press="onRecordDiffCallus" type="Default"/>
										<Button text="Mark As Clones" press="markAsClones" type="Default"/>
										<Button text="Split Item" press="onSplitItem" type="Default" enabled="{jsonModel>/isSingleSelect}"/>
										<Button text="Destroy Plants" press="performDestroyPlants" type="Reject"/>
										<Button text="Record Residue" press="performRecordResidue" type="Default"></Button>
									</OverflowToolbar>
								</table:extension>
								<table:columns>
									<table:Column sortProperty="BatchNum" filterProperty="BatchNum">
										<Label text="Plant ID" design="Bold"/>
										<table:template>
											<Text text="{jsonModel>BatchNum}" wrapping="true"/>
										</table:template>
									</table:Column>
									<table:Column sortProperty="U_NSTNM" filterProperty="U_NSTNM">
										<Label text="Strain" design="Bold"/>
										<table:template>
											<Text text="{jsonModel>U_NSTNM}" wrapping="true"/>
										</table:template>
									</table:Column>
									<table:Column sortProperty="ItemName" filterProperty="ItemName">
										<Label text="Item Name" design="Bold"/>
										<table:template>
											<Text text="{jsonModel>ItemName}" wrapping="true"/>
										</table:template>
									</table:Column>
									<table:Column sortProperty="MnfSerial" filterProperty="MnfSerial">
										<Label text="{i18n>Source}" design="Bold"/>
										<table:template>
											<!--<Text text="{jsonModel>MnfSerial}" wrapping="true"/>-->
											<Link text="{jsonModel>MnfSerial}" press="openQuickView"/>
										</table:template>
									</table:Column>
									<table:Column sortProperty="IntrSerial" filterProperty="IntrSerial">
										<Label text="Batch ID" design="Bold"/>
										<table:template>
											<Text text="{jsonModel>IntrSerial}" wrapping="true"/>
										</table:template>
									</table:Column>
									<table:Column sortProperty="WhsName" filterProperty="WhsName">
										<Label text="{i18n>Location}" design="Bold"/>
										<table:template>
											<Text text="{jsonModel>WhsCode} - {jsonModel>WhsName}" wrapping="true"/>
										</table:template>
									</table:Column>
									<table:Column sortProperty="CreateDate" filterProperty="CreateDate">
										<Label text="Created Date" design="Bold"/>
										<table:template>
											<Text text="{jsonModel>CreateDate}" wrapping="true"/>
										</table:template>
									</table:Column>
								</table:columns>
							</table:Table>
						</VBox>
					</VBox>
				</content>
			</IconTabBar>
		</f:content>
		<f:footer>
			<Bar>
				<contentLeft>
					<!--<Button id="resPop" icon="sap-icon://information" press="handleOpenPopOver" ariaHasPopup="Dialog"/>-->
				</contentLeft>
				<contentRight>
					<Text text="{jsonModel>/versionInfo}"/>
				</contentRight>
			</Bar>
		</f:footer>
	</f:DynamicPage>
</mvc:View>